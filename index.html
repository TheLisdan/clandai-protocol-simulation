<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ONCLND / CLNDAI Protocol Simulation</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>üéÆ ONCLND / CLNDAI Protocol Simulation</h1>
        <p class="subtitle">
          PvP-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–æ–ª–µ–π
        </p>
      </header>

      <section class="controls">
        <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º—É–ª—è—Ü–∏–µ–π</h2>
        <div class="time-tabs">
          <button class="time-tab active" data-periods="1">1 –î–µ–Ω—å</button>
          <button class="time-tab" data-periods="7">1 –ù–µ–¥–µ–ª—è</button>
          <button class="time-tab" data-periods="30">1 –ú–µ—Å—è—Ü</button>
          <button class="time-tab" data-periods="90">3 –ú–µ—Å—è—Ü–∞</button>
          <button class="time-tab" data-periods="180">6 –ú–µ—Å—è—Ü–µ–≤</button>
          <button class="time-tab" data-periods="365">1 –ì–æ–¥</button>
        </div>
        <div class="control-buttons">
          <button id="runSimulation">‚ñ∂Ô∏è –°–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥</button>
          <button id="resetSimulation">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
          <button id="stepSimulation">‚è≠Ô∏è +1 –î–µ–Ω—å</button>
        </div>
        <div class="time-display">
          <span>–¢–µ–∫—É—â–∏–π –¥–µ–Ω—å: <strong id="currentPeriod">0</strong></span>
          <span>–û–±—â–∏–π –ø—É–ª (P): <strong id="totalPool">0</strong> ONCLND</span>
          <span>–í—ã–±—Ä–∞–Ω–æ: <strong id="selectedPeriod">1 –¥–µ–Ω—å</strong></span>
        </div>
      </section>

      <section class="add-player">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞</h2>
        <div class="form-row">
          <input type="text" id="playerName" placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞" />
          <input
            type="number"
            id="playerDeposit"
            placeholder="–î–µ–ø–æ–∑–∏—Ç DAI"
            min="0"
          />
          <input
            type="number"
            id="playerFarmRate"
            placeholder="–°–∫–æ—Ä–æ—Å—Ç—å —Ñ–∞—Ä–º–∞ CLNDAI/–ø–µ—Ä–∏–æ–¥"
            min="0"
            step="0.1"
          />
          <button id="addPlayer">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </section>

      <section class="active-players">
        <h2>üü¢ –ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ (–≤ –∏–≥—Ä–µ)</h2>
        <table id="activePlayersTable">
          <thead>
            <tr>
              <th>–ò–º—è</th>
              <th>–í—Ö–æ–¥ (–ø–µ—Ä–∏–æ–¥)</th>
              <th>DAI –≤–Ω–µ—Å–µ–Ω–æ</th>
              <th>–ö–æ–º–∏—Å—Å–∏—è 5%</th>
              <th>D_i (ONCLND)</th>
              <th>CLNDAI_game</th>
              <th>R_i (—Ä–µ–π—Ç–∏–Ω–≥)</th>
              <th>D_i √ó R_i</th>
              <th>–î–æ–ª—è –≤ –ø—É–ª–µ (%)</th>
              <th>–ü–æ—Ç–µ–Ω—Ü. –≤—ã–≤–æ–¥</th>
              <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <section class="exited-players">
        <h2>üî¥ –í—ã—à–µ–¥—à–∏–µ –∏–≥—Ä–æ–∫–∏</h2>
        <table id="exitedPlayersTable">
          <thead>
            <tr>
              <th>–ò–º—è</th>
              <th>–í—Ö–æ–¥</th>
              <th>–í—ã—Ö–æ–¥</th>
              <th>–ü–µ—Ä–∏–æ–¥–æ–≤ –≤ –∏–≥—Ä–µ</th>
              <th>DAI –≤–Ω–µ—Å–µ–Ω–æ</th>
              <th>D_i (ONCLND)</th>
              <th>CLNDAI –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ</th>
              <th>R_i –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ</th>
              <th>–ü–æ–ª—É—á–µ–Ω–æ ONCLND</th>
              <th>–ü–æ–ª—É—á–µ–Ω–æ DAI</th>
              <th>CLNDAI_free</th>
              <th>P/L ONCLND</th>
              <th>–û–±—â–∏–π P/L*</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <p class="note">
          * –û–±—â–∏–π P/L —É—á–∏—Ç—ã–≤–∞–µ—Ç CLNDAI_free –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π)
        </p>
      </section>

      <section class="clndai-settings">
        <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ CLNDAI</h2>
        <div class="form-row">
          <label>
            –ö—É—Ä—Å CLNDAI –∫ DAI –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –æ–±—â–µ–≥–æ P/L:
            <input
              type="number"
              id="clndaiPrice"
              value="0.1"
              min="0"
              step="0.01"
            />
          </label>
        </div>
      </section>

      <section class="history">
        <h2>üìä –ò—Å—Ç–æ—Ä–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º</h2>
        <table id="historyTable">
          <thead>
            <tr>
              <th>–ü–µ—Ä–∏–æ–¥</th>
              <th>–ê–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</th>
              <th>–û–±—â–∏–π –ø—É–ª P</th>
              <th>Œ£(D√óR)</th>
              <th>–°–æ–±—ã—Ç–∏—è</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </section>

      <section class="summary">
        <h2>üìà –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <h3>–í—Å–µ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–æ–≤ DAI</h3>
            <span id="totalDeposits">0</span>
          </div>
          <div class="stat-card">
            <h3>–ö–æ–º–∏—Å—Å–∏–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</h3>
            <span id="totalFees">0</span>
          </div>
          <div class="stat-card">
            <h3>–í—Å–µ–≥–æ CLNDAI –Ω–∞—Ñ–∞—Ä–º–ª–µ–Ω–æ</h3>
            <span id="totalClndaiFarmed">0</span>
          </div>
          <div class="stat-card">
            <h3>CLNDAI –≤ –æ–±–æ—Ä–æ—Ç–µ (free)</h3>
            <span id="totalClndaiFree">0</span>
          </div>
        </div>
      </section>

      <section class="formulas">
        <h2>üìê –§–æ—Ä–º—É–ª—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</h2>
        <div class="formula-grid">
          <div class="formula-card">
            <h4>–î–µ–ø–æ–∑–∏—Ç</h4>
            <code>ONCLND_locked = DAI_in √ó 0.95</code>
          </div>
          <div class="formula-card">
            <h4>–†–µ–π—Ç–∏–Ω–≥</h4>
            <code>R_i = 1 + (CLNDAI_game_i / D_i)</code>
          </div>
          <div class="formula-card">
            <h4>–í—ã–≤–æ–¥</h4>
            <code>–í—ã–≤–æ–¥_i = P √ó (D_i √ó R_i) / Œ£(D_j √ó R_j)</code>
          </div>
        </div>
      </section>

      <section class="scenarios">
        <h2>üéØ –ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</h2>
        <div class="scenario-buttons">
          <button id="scenario1">–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ë–∞–∑–æ–≤—ã–π (4 –∏–≥—Ä–æ–∫–∞)</button>
          <button id="scenario2">–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∑–¥–Ω–∏–π –≤—Ö–æ–¥</button>
          <button id="scenario3">–°—Ü–µ–Ω–∞—Ä–∏–π 3: –†–∞–∑–Ω—ã–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ñ–∞—Ä–º–∞</button>
          <button id="scenario4">–°—Ü–µ–Ω–∞—Ä–∏–π 4: –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π (10 –∏–≥—Ä–æ–∫–æ–≤)</button>
        </div>
      </section>

      <section class="period-comparison">
        <h2>üìÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º (–î–µ–Ω—å / –ù–µ–¥–µ–ª—è / –ú–µ—Å—è—Ü / –ì–æ–¥)</h2>
        <p class="note">
          –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö
          –∏–≥—Ä–æ–∫–æ–≤
        </p>
        <div id="periodComparisonContainer"></div>
      </section>
    </div>

    <script src="simulation.js"></script>
  </body>
</html>
